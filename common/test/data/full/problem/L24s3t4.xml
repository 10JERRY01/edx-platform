<!-- Difference Amplifier Generalized -->

<problem>

<script type="loncapa/python">
e1 = "v1*(R4/(R3+R4))"
e2 = "v1*(R4/(R3+R4))"
vo = "(R4/(R3+R4))*((R1+R2)/R1)*v1 - (R2/R1)*v2"
</script>

<startouttext/>
The following circuit is a generalization of the one you saw in
lecture, in that the resistances are all distinct.
<center>
<img src="/static/circuits/DifferenceAmplifier.gif" />
</center>
Assume that the op amp is ideal, with infinite gain, infinite input
resistance, and zero output resistance. 
<endouttext/>

<startouttext/>
<br/>
In the box provided below write an algebraic expression in voltages
\(v_1\) and \(v_2\) and the resistances for the node potential \(e_1\).
<endouttext/>
<formularesponse type="cs"
                 samples="v1,v2,R1,R2,R3,R4@1,1,1,1,1,1:3,3,3,3,3,3#10"
                 answer="$e1"> 
    <responseparam description="Numerical Tolerance" type="tolerance"
    default="0.00001" name="tol" /> 
    <textline size="40" />    
</formularesponse>

<startouttext/>
<br/>
In the box provided below write an algebraic expression in voltages
\(v_1\) and \(v_2\) and the resistances for the node potential \(e_2\).
<endouttext/>
<formularesponse type="cs"
                 samples="v1,v2,R1,R2,R3,R4@1,1,1,1,1,1:3,3,3,3,3,3#10"
                 answer="$e2">  
    <responseparam description="Numerical Tolerance" type="tolerance"
    default="0.00001" name="tol" /> 
    <textline size="40" />    
</formularesponse>

<startouttext/>
<br/>
In the box provided below write an algebraic expression in voltages
\(v_1\) and \(v_2\) and the resistances for the output voltage \(v_O\).
<endouttext/>
<formularesponse type="cs"
		 samples="v1,v2,R1,R2,R3,R4@1,1,1,1,1,1:3,3,3,3,3,3#10"
                 answer="$vo">  
    <responseparam description="Numerical Tolerance" type="tolerance"
    default="0.00001" name="tol" /> 
    <textline size="40" />    
</formularesponse>

<startouttext/>
<br/>
Suppose we want a circuit that gives \(v_O = 2 v_1 - 3 v_2\).  
<br/>
And suppose we know that \(R_1 = R_4 = 1\)k\(\Omega\).  
<br/>
Choose \(R_2\)
and \(R_3\), in k\(\Omega\), to make this circuit perform this computation.
<br/>
\(R_2\) =
<endouttext/>
<numericalresponse answer="3">
    <responseparam type="tolerance" default="5%" name="tol"
                   description="Numerical Tolerance"/> 
    <textline/>
</numericalresponse>
<startouttext/>
<br/>
\(R_3\) =
<endouttext/>
<numericalresponse answer="1">
    <responseparam type="tolerance" default="5%" name="tol"
                   description="Numerical Tolerance"/> 
    <textline/>
</numericalresponse>


</problem>
